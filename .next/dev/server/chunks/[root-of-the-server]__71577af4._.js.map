{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECTOS/Reactjs/Celu/project-bolt-sb1-r7qsskrc/funcional/project/lib/supabase/admin.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\n/**\r\n * Supabase Admin client using SERVICE_ROLE_KEY.\r\n * USE ONLY ON THE SERVER (Route Handlers, Server Actions).\r\n * This client bypasses RLS.\r\n */\r\nexport function createAdminClient() {\r\n    const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL\r\n    const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY\r\n\r\n    if (!supabaseUrl || !supabaseServiceKey) {\r\n        throw new Error('[ADMIN] Supabase URL or Service Role Key is missing. Check your environment variables.');\r\n    }\r\n\r\n    return createClient(supabaseUrl || '', supabaseServiceKey || '', {\r\n        auth: {\r\n            autoRefreshToken: false,\r\n            persistSession: false\r\n        }\r\n    })\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAOO,SAAS;IACZ,MAAM;IACN,MAAM,qBAAqB,QAAQ,GAAG,CAAC,yBAAyB;IAEhE,IAAI,CAAC,eAAe,CAAC,oBAAoB;QACrC,MAAM,IAAI,MAAM;IACpB;IAEA,OAAO,IAAA,iRAAY,EAAC,eAAe,IAAI,sBAAsB,IAAI;QAC7D,MAAM;YACF,kBAAkB;YAClB,gBAAgB;QACpB;IACJ;AACJ"}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECTOS/Reactjs/Celu/project-bolt-sb1-r7qsskrc/funcional/project/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr'\r\nimport { cookies } from 'next/headers'\r\n\r\n/**\r\n * Creates a Supabase client for use in Server Components, Route Handlers, and Server Actions.\r\n * In Next.js 16, cookies() is asynchronous.\r\n */\r\nexport async function createClient() {\r\n    const cookieStore = await cookies()\r\n\r\n    return createServerClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n        {\r\n            cookies: {\r\n                getAll() {\r\n                    return cookieStore.getAll()\r\n                },\r\n                setAll(cookiesToSet) {\r\n                    try {\r\n                        cookiesToSet.forEach(({ name, value, options }) =>\r\n                            cookieStore.set(name, value, options)\r\n                        )\r\n                    } catch {\r\n                        // The `setAll` method was called from a Server Component.\r\n                        // This can be ignored if you have middleware refreshing\r\n                        // user sessions.\r\n                    }\r\n                },\r\n            },\r\n        }\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAMO,eAAe;IAClB,MAAM,cAAc,MAAM,IAAA,6NAAO;IAEjC,OAAO,IAAA,kRAAkB,sUAGrB;QACI,SAAS;YACL;gBACI,OAAO,YAAY,MAAM;YAC7B;YACA,QAAO,YAAY;gBACf,IAAI;oBACA,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC1C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAErC,EAAE,OAAM;gBACJ,0DAA0D;gBAC1D,wDAAwD;gBACxD,iBAAiB;gBACrB;YACJ;QACJ;IACJ;AAER"}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECTOS/Reactjs/Celu/project-bolt-sb1-r7qsskrc/funcional/project/lib/supabase/error.ts"],"sourcesContent":["/**\r\n * Serializa erros Supabase/Postgrest para logs e respostas JSON.\r\n * Evita \"{}\" no console quando o objeto não é enumerável.\r\n */\r\nexport function serializeSupabaseError(err: unknown): {\r\n    message: string;\r\n    code?: string;\r\n    details?: unknown;\r\n    hint?: string;\r\n    status?: number;\r\n    name?: string;\r\n} {\r\n    if (err == null) return { message: 'Unknown error' };\r\n\r\n    const e = err as Record<string, unknown>;\r\n    return {\r\n        message: typeof e?.message === 'string' ? e.message : String(err),\r\n        code: typeof e?.code === 'string' ? e.code : undefined,\r\n        details: e?.details,\r\n        hint: typeof e?.hint === 'string' ? e.hint : undefined,\r\n        status: typeof e?.status === 'number' ? e.status : undefined,\r\n        name: typeof e?.name === 'string' ? e.name : undefined,\r\n    };\r\n}\r\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AACM,SAAS,uBAAuB,GAAY;IAQ/C,IAAI,OAAO,MAAM,OAAO;QAAE,SAAS;IAAgB;IAEnD,MAAM,IAAI;IACV,OAAO;QACH,SAAS,OAAO,GAAG,YAAY,WAAW,EAAE,OAAO,GAAG,OAAO;QAC7D,MAAM,OAAO,GAAG,SAAS,WAAW,EAAE,IAAI,GAAG;QAC7C,SAAS,GAAG;QACZ,MAAM,OAAO,GAAG,SAAS,WAAW,EAAE,IAAI,GAAG;QAC7C,QAAQ,OAAO,GAAG,WAAW,WAAW,EAAE,MAAM,GAAG;QACnD,MAAM,OAAO,GAAG,SAAS,WAAW,EAAE,IAAI,GAAG;IACjD;AACJ"}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECTOS/Reactjs/Celu/project-bolt-sb1-r7qsskrc/funcional/project/lib/constants.ts"],"sourcesContent":["/**\n * Constantes do CeluPublic.\n */\n\nexport const APP_NAME = 'CeluPublic';\n\nexport const CONTACT_INFO = {\n  WHATSAPP: '+258 87 833 0517',\n  WHATSAPP_RAW: '258878330517',\n  WHATSAPP_LINK: 'https://wa.me/258878330517?text=Olá!%20Acabei%20de%20fazer%20o%20pagamento%20da%20taxa%20de%2020MT%20para%20ativação%20da%20minha%20conta.%20Pode%20ajudar-me?',\n  EMAIL: 'celupublic@gmail.com',\n  SUPPORT_SEC: 'celupublic@gmail.com',\n} as const;\n\nexport const LIMITS = {\n  MAX_PRODUCTS: 10,\n  MAX_SERVICES: 5,\n  MAX_AD_IMAGES: 5,\n  ACTIVATION_FEE_MT: 20,\n} as const;\n\n/** Províncias de Moçambique (para select no cadastro) */\nexport const PROVINCIAS_MOCAMBIQUE = [\n  'Cabo Delgado',\n  'Gaza',\n  'Inhambane',\n  'Manica',\n  'Maputo',\n  'Maputo Cidade',\n  'Nampula',\n  'Niassa',\n  'Sofala',\n  'Tete',\n  'Zambézia',\n] as const;\n\n/** Cidades por província (para select no anúncio). Province -> cities. */\nexport const CIDADES_POR_PROVINCIA: Record<string, string[]> = {\n  'Cabo Delgado': ['Pemba', 'Montepuez', 'Mocímboa da Praia', 'Chinde'],\n  'Gaza': ['Xai-Xai', 'Chókwè', 'Macia', 'Chibuto'],\n  'Inhambane': ['Inhambane', 'Maxixe', 'Vilanculos', 'Massinga'],\n  'Manica': ['Chimoio', 'Manica', 'Gondola', 'Sussundenga'],\n  'Maputo': ['Matola', 'Boane', 'Manhiça', 'Marracuene', 'Namaacha'],\n  'Maputo Cidade': ['Maputo', 'KaMavota', 'KaMubukwana', 'KaMaxakeni', 'KaMphumo', 'KaTembe', 'KaNyaka'],\n  'Nampula': ['Nampula', 'Nacala', 'Angoche', 'Monapo', 'Mozambique'],\n  'Niassa': ['Lichinga', 'Cuamba', 'Metangula'],\n  'Sofala': ['Beira', 'Dondo', 'Nhamatanda', 'Chibabava'],\n  'Tete': ['Tete', 'Moatize', 'Angónia', 'Zumbo'],\n  'Zambézia': ['Quelimane', 'Mocuba', 'Gurúè', 'Milange', 'Nicoadala'],\n};\n\nexport const PLACEHOLDER_IMAGE = 'https://placehold.co/600x400/e2e8f0/64748b?text=Sem+imagem';\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;;;;;AAEM,MAAM,WAAW;AAEjB,MAAM,eAAe;IAC1B,UAAU;IACV,cAAc;IACd,eAAe;IACf,OAAO;IACP,aAAa;AACf;AAEO,MAAM,SAAS;IACpB,cAAc;IACd,cAAc;IACd,eAAe;IACf,mBAAmB;AACrB;AAGO,MAAM,wBAAwB;IACnC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAGM,MAAM,wBAAkD;IAC7D,gBAAgB;QAAC;QAAS;QAAa;QAAqB;KAAS;IACrE,QAAQ;QAAC;QAAW;QAAU;QAAS;KAAU;IACjD,aAAa;QAAC;QAAa;QAAU;QAAc;KAAW;IAC9D,UAAU;QAAC;QAAW;QAAU;QAAW;KAAc;IACzD,UAAU;QAAC;QAAU;QAAS;QAAW;QAAc;KAAW;IAClE,iBAAiB;QAAC;QAAU;QAAY;QAAe;QAAc;QAAY;QAAW;KAAU;IACtG,WAAW;QAAC;QAAW;QAAU;QAAW;QAAU;KAAa;IACnE,UAAU;QAAC;QAAY;QAAU;KAAY;IAC7C,UAAU;QAAC;QAAS;QAAS;QAAc;KAAY;IACvD,QAAQ;QAAC;QAAQ;QAAW;QAAW;KAAQ;IAC/C,YAAY;QAAC;QAAa;QAAU;QAAS;QAAW;KAAY;AACtE;AAEO,MAAM,oBAAoB"}},
    {"offset": {"line": 247, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECTOS/Reactjs/Celu/project-bolt-sb1-r7qsskrc/funcional/project/app/api/vendedor/anuncios/route.ts"],"sourcesContent":["/**\r\n * GET e POST /api/vendedor/anuncios\r\n * GET: lista anúncios do owner autenticado (todos os status).\r\n * POST: publicar anúncio (ads + ad_images + storage upload).\r\n */\r\nimport { NextResponse } from 'next/server'\r\nimport { createAdminClient } from '@/lib/supabase/admin'\r\nimport { createClient } from '@/lib/supabase/server'\r\nimport { serializeSupabaseError } from '@/lib/supabase/error'\r\nimport { LIMITS } from '@/lib/constants'\r\n\r\nconst BUCKET = 'ad-images'\r\n\r\nfunction buildPublicUrl(path: string): string {\r\n    const url = process.env.NEXT_PUBLIC_SUPABASE_URL\r\n    if (!url) return ''\r\n    const clean = path.replace(/^\\/+|\\/+$/g, '')\r\n    return `${url}/storage/v1/object/public/${BUCKET}/${clean}`\r\n}\r\n\r\nfunction rowToAd(r: Record<string, unknown>, images: string[], userName?: string) {\r\n    return {\r\n        id: r.id,\r\n        userId: r.owner_id,\r\n        userName: userName ?? undefined,\r\n        type: r.type,\r\n        status: r.status,\r\n        title: r.title,\r\n        description: r.description,\r\n        price: r.price_mzn != null ? Number(r.price_mzn) : null,\r\n        priceOnRequest: r.price_note != null && String(r.price_note).length > 0,\r\n        location: r.city,\r\n        province: r.province,\r\n        neighborhood: r.neighborhood ?? undefined,\r\n        categoryId: r.category,\r\n        whatsapp: r.whatsapp,\r\n        images,\r\n        likes: 0,\r\n        createdAt: r.created_at,\r\n        updatedAt: r.updated_at,\r\n    }\r\n}\r\n\r\nfunction dataUrlToBuffer(dataUrl: string): { buffer: Buffer; ext: string } {\r\n    const match = dataUrl.match(/^data:image\\/(jpeg|jpg|png|webp|gif);base64,(.+)$/i)\r\n    const base64 = match?.[2] ?? dataUrl.replace(/^data:[^;]+;base64,/, '')\r\n    const mime = match?.[1]?.toLowerCase() ?? 'jpeg'\r\n    const extMap: Record<string, string> = {\r\n        jpeg: 'jpg', jpg: 'jpg', png: 'png', webp: 'webp', gif: 'gif',\r\n    }\r\n    const ext = extMap[mime] ?? 'jpg'\r\n    return { buffer: Buffer.from(base64, 'base64'), ext }\r\n}\r\n\r\nasync function ensureApprovedSeller(supabase: Awaited<ReturnType<typeof createClient>>, userId: string) {\r\n    const { data: rpc } = await supabase.rpc('is_admin', { uid: userId })\r\n    if (rpc === true) return { ok: true, isAdmin: true }\r\n\r\n    const { data: profile, error } = await supabase\r\n        .from('profiles')\r\n        .select('status, role')\r\n        .eq('id', userId)\r\n        .maybeSingle()\r\n\r\n    if (error || !profile) {\r\n        return { ok: false, message: 'Perfil não encontrado' }\r\n    }\r\n    if (profile.status !== 'approved') {\r\n        return { ok: false, message: 'Conta não aprovada. Aguarde a ativação.' }\r\n    }\r\n    if (profile.role !== 'seller' && profile.role !== 'admin') {\r\n        return { ok: false, message: 'Acesso reservado a vendedores.' }\r\n    }\r\n    return { ok: true, isAdmin: false }\r\n}\r\n\r\nexport const dynamic = 'force-dynamic'\r\n\r\nexport async function GET() {\r\n    try {\r\n        const supabase = await createClient()\r\n        const { data: { user }, error: authError } = await supabase.auth.getUser()\r\n\r\n        if (authError || !user) {\r\n            return NextResponse.json({ ok: false, message: 'Não autenticado' }, { status: 401 })\r\n        }\r\n\r\n        const admin = createAdminClient()\r\n        const { data: rows, error } = await admin\r\n            .from('ads')\r\n            .select('*')\r\n            .eq('owner_id', user.id)\r\n            .order('updated_at', { ascending: false })\r\n\r\n        if (error) {\r\n            const ser = serializeSupabaseError(error)\r\n            console.error('[API/VENDEDOR/ANUNCIOS] GET error:', ser)\r\n            return NextResponse.json({ ok: false, message: ser.message }, { status: 500 })\r\n        }\r\n\r\n        const adIds = (rows ?? []).map((r: { id: string }) => r.id)\r\n        const { data: imgRows } = adIds.length > 0\r\n            ? await admin.from('ad_images').select('ad_id, path, sort_order').in('ad_id', adIds).order('sort_order', { ascending: true })\r\n            : { data: [] }\r\n\r\n        const imagesByAd = new Map<string, { path: string; sort_order: number }[]>()\r\n        for (const r of (imgRows ?? []) as { ad_id: string; path: string; sort_order: number }[]) {\r\n            const list = imagesByAd.get(r.ad_id) ?? []\r\n            list.push({ path: r.path, sort_order: r.sort_order })\r\n            imagesByAd.set(r.ad_id, list)\r\n        }\r\n\r\n        const ads = (rows ?? []).map((r: Record<string, unknown>) => {\r\n            const list = (imagesByAd.get(r.id as string) ?? []).sort((a, b) => a.sort_order - b.sort_order)\r\n            const imgs = list.map((i) => buildPublicUrl(i.path))\r\n            return rowToAd(r, imgs)\r\n        })\r\n\r\n        return NextResponse.json({ ads })\r\n    } catch (err: unknown) {\r\n        const ser = serializeSupabaseError(err)\r\n        console.error('[API/VENDEDOR/ANUNCIOS] GET unexpected error:', ser)\r\n        return NextResponse.json({ ok: false, message: ser.message }, { status: 500 })\r\n    }\r\n}\r\n\r\nexport async function POST(request: Request) {\r\n    try {\r\n        const supabase = await createClient()\r\n        const { data: { user }, error: authError } = await supabase.auth.getUser()\r\n\r\n        if (authError || !user) {\r\n            return NextResponse.json({ ok: false, message: 'Não autenticado' }, { status: 401 })\r\n        }\r\n\r\n        const check = await ensureApprovedSeller(supabase, user.id)\r\n        if (!check.ok) {\r\n            return NextResponse.json({ ok: false, message: check.message }, { status: 403 })\r\n        }\r\n\r\n        const body = await request.json().catch(() => ({}))\r\n        const title = String(body?.title ?? '').trim()\r\n        const description = String(body?.description ?? '').trim()\r\n        const province = String(body?.province ?? '').trim()\r\n        const city = String(body?.city ?? body?.location ?? '').trim()\r\n        const neighborhood = (body?.neighborhood ?? '').trim() || null\r\n        const categoryId = String(body?.categoryId ?? body?.category ?? '').trim()\r\n        const whatsapp = String(body?.whatsapp ?? '').replace(/\\D/g, '')\r\n        const type = body?.type === 'service' ? 'service' : 'product'\r\n        const priceOnRequest = Boolean(body?.priceOnRequest)\r\n        const price = priceOnRequest || body?.price == null || body?.price === '' ? null : Number(body.price)\r\n        const images = Array.isArray(body?.images) ? body.images : []\r\n        if (images.length > LIMITS.MAX_AD_IMAGES) {\r\n            return NextResponse.json(\r\n                { ok: false, message: `Máximo ${LIMITS.MAX_AD_IMAGES} imagens permitidas.` },\r\n                { status: 400 }\r\n            )\r\n        }\r\n\r\n        if (!title || !city || !province || !categoryId || !whatsapp) {\r\n            return NextResponse.json(\r\n                { ok: false, message: 'Título, província, cidade, categoria e WhatsApp são obrigatórios' },\r\n                { status: 400 }\r\n            )\r\n        }\r\n\r\n        const admin = createAdminClient()\r\n\r\n        const { data: existing } = await admin\r\n            .from('ads')\r\n            .select('id, type')\r\n            .eq('owner_id', user.id)\r\n\r\n        const list = (existing ?? []) as { type: string }[]\r\n        const countProduct = list.filter((r) => r.type === 'product').length\r\n        const countService = list.filter((r) => r.type === 'service').length\r\n        if (type === 'product' && countProduct >= LIMITS.MAX_PRODUCTS) {\r\n            return NextResponse.json(\r\n                { ok: false, message: `Limite de ${LIMITS.MAX_PRODUCTS} produtos atingido.` },\r\n                { status: 400 }\r\n            )\r\n        }\r\n        if (type === 'service' && countService >= LIMITS.MAX_SERVICES) {\r\n            return NextResponse.json(\r\n                { ok: false, message: `Limite de ${LIMITS.MAX_SERVICES} serviços atingido.` },\r\n                { status: 400 }\r\n            )\r\n        }\r\n\r\n        const adRow = {\r\n            owner_id: user.id,\r\n            type,\r\n            status: 'published',\r\n            title,\r\n            description,\r\n            price_mzn: price,\r\n            price_note: priceOnRequest ? 'Sob consulta' : null,\r\n            province,\r\n            city,\r\n            neighborhood,\r\n            category: categoryId,\r\n            whatsapp,\r\n        }\r\n\r\n        const { data: inserted, error: insertError } = await admin\r\n            .from('ads')\r\n            .insert(adRow)\r\n            .select('id')\r\n            .single()\r\n\r\n        if (insertError) {\r\n            const ser = serializeSupabaseError(insertError)\r\n            console.error('[API/VENDEDOR/ANUNCIOS] insert ads error:', ser)\r\n            return NextResponse.json(\r\n                { ok: false, ...ser },\r\n                { status: 500 }\r\n            )\r\n        }\r\n\r\n        const adId = (inserted as { id: string }).id\r\n        console.log('[ADS/CREATE] adId:', adId, 'ownerId:', user.id.slice(0, 8), 'imagesCount:', images.length)\r\n\r\n        const dataUrls = images.filter((x: unknown) => typeof x === 'string' && (x as string).startsWith('data:'))\r\n        const toUpload = dataUrls.slice(0, LIMITS.MAX_AD_IMAGES)\r\n        const uploadedPaths: string[] = []\r\n        let insertedCount = 0\r\n\r\n        for (let i = 0; i < toUpload.length; i++) {\r\n            const dataUrl = toUpload[i] as string\r\n            try {\r\n                const { buffer, ext } = dataUrlToBuffer(dataUrl)\r\n                const filename = `${crypto.randomUUID()}.${ext}`\r\n                const path = `${user.id}/${adId}/${filename}`\r\n                const contentType = ext === 'jpg' ? 'image/jpeg' : `image/${ext}`\r\n\r\n                const { error: uploadError } = await admin.storage\r\n                    .from(BUCKET)\r\n                    .upload(path, buffer, { contentType, upsert: true })\r\n\r\n                console.log('[ADS/UPLOAD] bucket:', BUCKET, 'path:', path, 'bytes:', buffer.length, 'contentType:', contentType, 'status:', uploadError ? 'error' : 'ok')\r\n                if (uploadError) {\r\n                    console.error('[API/VENDEDOR/ANUNCIOS] storage upload error:', serializeSupabaseError(uploadError))\r\n                    continue\r\n                }\r\n                uploadedPaths.push(path)\r\n\r\n                const { error: imgError } = await admin\r\n                    .from('ad_images')\r\n                    .insert({ ad_id: adId, path, sort_order: i })\r\n\r\n                if (imgError) {\r\n                    console.error('[API/VENDEDOR/ANUNCIOS] ad_images insert error:', serializeSupabaseError(imgError))\r\n                } else {\r\n                    insertedCount++\r\n                }\r\n            } catch (e) {\r\n                console.error('[API/VENDEDOR/ANUNCIOS] image process error:', e)\r\n            }\r\n        }\r\n\r\n        console.log('[ADS/DB] inserted ad_images count:', insertedCount)\r\n        if (toUpload.length > 0 && insertedCount === 0) {\r\n            if (uploadedPaths.length > 0) {\r\n                await admin.storage.from(BUCKET).remove(uploadedPaths)\r\n                console.warn('[ADS/CREATE] cleanup: removed', uploadedPaths.length, 'uploaded files')\r\n            }\r\n            await admin.from('ads').delete().eq('id', adId)\r\n            console.warn('[ADS/CREATE] rollback: deleted ad', adId, '(no ad_images inserted)')\r\n            return NextResponse.json(\r\n                { ok: false, message: 'Falha ao guardar imagens. Tente novamente.' },\r\n                { status: 500 }\r\n            )\r\n        }\r\n        return NextResponse.json({ ok: true, adId })\r\n    } catch (err: unknown) {\r\n        const ser = serializeSupabaseError(err)\r\n        console.error('[API/VENDEDOR/ANUNCIOS] unexpected error:', ser)\r\n        return NextResponse.json(\r\n            { ok: false, message: ser.message ?? 'Erro interno' },\r\n            { status: 500 }\r\n        )\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}}]
}