{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECTOS/Reactjs/Celu/project-bolt-sb1-r7qsskrc/funcional/project/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react';\nimport { cn } from '@/lib/utils';\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          'flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nInput.displayName = 'Input';\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAKA,MAAM,sBAAQ,4PAAgB,MAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8QAAC;QACC,MAAM;QACN,WAAW,IAAA,sMAAE,EACX,gWACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECTOS/Reactjs/Celu/project-bolt-sb1-r7qsskrc/funcional/project/components/ui/label.tsx"],"sourcesContent":["import * as React from 'react';\nimport { cn } from '@/lib/utils';\n\nexport interface LabelProps\n  extends React.LabelHTMLAttributes<HTMLLabelElement> {}\n\nconst Label = React.forwardRef<HTMLLabelElement, LabelProps>(\n  ({ className, ...props }, ref) => (\n    <label\n      ref={ref}\n      className={cn(\n        'text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70',\n        className\n      )}\n      {...props}\n    />\n  )\n);\nLabel.displayName = 'Label';\n\nexport { Label };\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAKA,MAAM,sBAAQ,4PAAgB,MAC5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8QAAC;QACC,KAAK;QACL,WAAW,IAAA,sMAAE,EACX,8FACA;QAED,GAAG,KAAK;;;;;;;AAIf,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECTOS/Reactjs/Celu/project-bolt-sb1-r7qsskrc/funcional/project/components/ui/dialog.tsx"],"sourcesContent":["import * as React from 'react';\nimport * as DialogPrimitive from '@radix-ui/react-dialog';\nimport { X } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\nconst Dialog = DialogPrimitive.Root;\nconst DialogTrigger = DialogPrimitive.Trigger;\nconst DialogPortal = DialogPrimitive.Portal;\nconst DialogClose = DialogPrimitive.Close;\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      'fixed inset-0 z-[101] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',\n      className\n    )}\n    {...props}\n  />\n));\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        'fixed left-1/2 top-1/2 z-[101] grid max-h-[calc(100%-4rem)] w-full -translate-x-1/2 -translate-y-1/2 gap-4 overflow-y-auto border bg-background p-6 shadow-lg shadow-black/5 duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:max-w-[400px] sm:rounded-xl',\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-3 top-3 flex size-7 items-center justify-center rounded-lg opacity-60 transition-opacity hover:opacity-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Fechar</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n));\nDialogContent.displayName = DialogPrimitive.Content.displayName;\n\nconst DialogHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn('flex flex-col space-y-1.5 text-center sm:text-left', className)} {...props} />\n);\nDialogHeader.displayName = 'DialogHeader';\n\nconst DialogFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn('flex flex-col-reverse gap-2 sm:flex-row sm:justify-end sm:gap-3', className)}\n    {...props}\n  />\n);\nDialogFooter.displayName = 'DialogFooter';\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn('text-lg font-semibold tracking-tight', className)}\n    {...props}\n  />\n));\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn('text-sm text-muted-foreground', className)}\n    {...props}\n  />\n));\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;;;;;AAEA,MAAM,SAAS,8PAAoB;AACnC,MAAM,gBAAgB,iQAAuB;AAC7C,MAAM,eAAe,gQAAsB;AAC3C,MAAM,cAAc,+PAAqB;AAEzC,MAAM,8BAAgB,4PAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8QAAC,iQAAuB;QACtB,KAAK;QACL,WAAW,IAAA,sMAAE,EACX,6JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,iQAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,4PAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8QAAC;;0BACC,8QAAC;;;;;0BACD,8QAAC,iQAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,sMAAE,EACX,yjBACA;gBAED,GAAG,KAAK;;oBAER;kCACD,8QAAC,+PAAqB;wBAAC,WAAU;;0CAC/B,8QAAC,qRAAC;gCAAC,WAAU;;;;;;0CACb,8QAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,iQAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBACjF,8QAAC;QAAI,WAAW,IAAA,sMAAE,EAAC,sDAAsD;QAAa,GAAG,KAAK;;;;;;MAD1F;AAGN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBACjF,8QAAC;QACC,WAAW,IAAA,sMAAE,EAAC,mEAAmE;QAChF,GAAG,KAAK;;;;;;MAHP;AAMN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,4PAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8QAAC,+PAAqB;QACpB,KAAK;QACL,WAAW,IAAA,sMAAE,EAAC,wCAAwC;QACrD,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,+PAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,4PAAgB,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8QAAC,qQAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,sMAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,qQAA2B,CAAC,WAAW"}},
    {"offset": {"line": 229, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECTOS/Reactjs/Celu/project-bolt-sb1-r7qsskrc/funcional/project/components/shared/ConfirmDialog.tsx"],"sourcesContent":["import {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport { AppButton } from '@/components/ui/app-button';\nimport { Loader2 } from 'lucide-react';\n\nexport interface ConfirmDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  title: string;\n  description: string;\n  confirmLabel?: string;\n  cancelLabel?: string;\n  onConfirm: () => void | Promise<void>;\n  destructive?: boolean;\n  loading?: boolean;\n}\n\n/**\n * Reusable confirmation dialog for destructive or important actions.\n * Supports async onConfirm; focus is managed by Radix Dialog.\n */\nexport function ConfirmDialog({\n  open,\n  onOpenChange,\n  title,\n  description,\n  confirmLabel = 'Eliminar',\n  cancelLabel = 'Cancelar',\n  onConfirm,\n  destructive = true,\n  loading = false,\n}: ConfirmDialogProps) {\n  const handleConfirm = async () => {\n    await onConfirm();\n    onOpenChange(false);\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-[calc(100vw-2rem)] sm:max-w-[400px]\" onPointerDownOutside={(e) => e.preventDefault()}>\n        <DialogHeader>\n          <DialogTitle>{title}</DialogTitle>\n          <DialogDescription>{description}</DialogDescription>\n        </DialogHeader>\n        <DialogFooter className=\"gap-2 sm:gap-0\">\n          <AppButton\n            type=\"button\"\n            variant=\"outline\"\n            onClick={() => onOpenChange(false)}\n            disabled={loading}\n          >\n            {cancelLabel}\n          </AppButton>\n          <AppButton\n            type=\"button\"\n            variant={destructive ? 'destructive' : 'default'}\n            onClick={handleConfirm}\n            disabled={loading}\n            className=\"gap-2\"\n          >\n            {loading && <Loader2 className=\"h-4 w-4 animate-spin\" />}\n            {confirmLabel}\n          </AppButton>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAQA;AACA;;;;;AAkBO,SAAS,cAAc,EAC5B,IAAI,EACJ,YAAY,EACZ,KAAK,EACL,WAAW,EACX,eAAe,UAAU,EACzB,cAAc,UAAU,EACxB,SAAS,EACT,cAAc,IAAI,EAClB,UAAU,KAAK,EACI;IACnB,MAAM,gBAAgB;QACpB,MAAM;QACN,aAAa;IACf;IAEA,qBACE,8QAAC,yNAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,8QAAC,gOAAa;YAAC,WAAU;YAA4C,sBAAsB,CAAC,IAAM,EAAE,cAAc;;8BAChH,8QAAC,+NAAY;;sCACX,8QAAC,8NAAW;sCAAE;;;;;;sCACd,8QAAC,oOAAiB;sCAAE;;;;;;;;;;;;8BAEtB,8QAAC,+NAAY;oBAAC,WAAU;;sCACtB,8QAAC,mOAAS;4BACR,MAAK;4BACL,SAAQ;4BACR,SAAS,IAAM,aAAa;4BAC5B,UAAU;sCAET;;;;;;sCAEH,8QAAC,mOAAS;4BACR,MAAK;4BACL,SAAS,cAAc,gBAAgB;4BACvC,SAAS;4BACT,UAAU;4BACV,WAAU;;gCAET,yBAAW,8QAAC,gTAAO;oCAAC,WAAU;;;;;;gCAC9B;;;;;;;;;;;;;;;;;;;;;;;;AAMb;KA9CgB"}},
    {"offset": {"line": 338, "column": 0}, "map": {"version":3,"sources":["file:///D:/PROJECTOS/Reactjs/Celu/project-bolt-sb1-r7qsskrc/funcional/project/app/admin/categorias/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { useApp } from '@/context/AppContext';\r\nimport { useToast } from '@/context/ToastContext';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { AppButton } from '@/components/ui/app-button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { ConfirmDialog } from '@/components/shared/ConfirmDialog';\r\nimport { Layers, Plus, Pencil, Trash2, Loader2 } from 'lucide-react';\r\nimport type { Category } from '@/types';\r\nimport { withTimeout } from '@/lib/errors';\r\n\r\nconst USE_SUPABASE = process.env.NEXT_PUBLIC_USE_SUPABASE === 'true';\r\nconst FETCH_TIMEOUT_MS = 12000;\r\n\r\nfunction slugFromName(name: string): string {\r\n    return name\r\n        .toLowerCase()\r\n        .normalize('NFD')\r\n        .replace(/\\p{Diacritic}/gu, '')\r\n        .replace(/[^a-z0-9]+/g, '-')\r\n        .replace(/^-|-$/g, '');\r\n}\r\n\r\nfunction rowToCategory(r: { id: string; name: string; slug: string; icon?: string | null }): Category {\r\n    return { id: r.id, name: r.name, slug: r.slug, icon: r.icon ?? undefined };\r\n}\r\n\r\nexport default function AdminCategoriesPage() {\r\n    const { categories, ads, setCategories } = useApp();\r\n    const showToast = useToast().showToast;\r\n    const [newName, setNewName] = useState('');\r\n    const [newSlug, setNewSlug] = useState('');\r\n    const [editingId, setEditingId] = useState<string | null>(null);\r\n    const [editName, setEditName] = useState('');\r\n    const [editSlug, setEditSlug] = useState('');\r\n    const [categoryToDelete, setCategoryToDelete] = useState<Category | null>(null);\r\n    const [submitting, setSubmitting] = useState(false);\r\n    const loadCategories = useCallback(async () => {\r\n        try {\r\n            const r = await withTimeout(fetch('/api/admin/categorias', { cache: 'no-store' }), FETCH_TIMEOUT_MS, 'Carregar categorias');\r\n            if (!r.ok) {\r\n                const err = await r.json().catch(() => ({}));\r\n                showToast({ variant: 'error', description: err.message ?? r.statusText });\r\n                return;\r\n            }\r\n            const data = await r.json();\r\n            setCategories((Array.isArray(data) ? data : []).map(rowToCategory));\r\n        } catch (e) {\r\n            showToast({ variant: 'error', description: e instanceof Error ? e.message : 'Erro ao carregar.' });\r\n        }\r\n    }, [setCategories, showToast]);\r\n\r\n    useEffect(() => {\r\n        void loadCategories();\r\n    }, [loadCategories]);\r\n\r\n    const withCount = categories.map((c) => ({\r\n        ...c,\r\n        adCount: ads.filter((a) => a.status === 'published' && a.categoryId === c.id).length,\r\n    }));\r\n\r\n    const handleAdd = async () => {\r\n        const name = newName.trim();\r\n        const slug = newSlug.trim() || slugFromName(name);\r\n        if (!name || !slug) return;\r\n        setSubmitting(true);\r\n        showToast({ variant: 'info', description: 'A criar...' });\r\n        try {\r\n            const r = await withTimeout(\r\n                fetch('/api/admin/categorias', {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({ name, slug }),\r\n                    cache: 'no-store',\r\n                }),\r\n                FETCH_TIMEOUT_MS,\r\n                'Criar categoria'\r\n            );\r\n            if (!r.ok) {\r\n                const err = await r.json().catch(() => ({}));\r\n                throw new Error(err.message ?? 'Erro ao criar categoria');\r\n            }\r\n            const created = await r.json();\r\n            setCategories((prev) => [...prev, rowToCategory(created)]);\r\n            setNewName('');\r\n            setNewSlug('');\r\n            showToast({ variant: 'success', description: 'Categoria criada.' });\r\n        } catch (e) {\r\n            showToast({ variant: 'error', description: e instanceof Error ? e.message : 'Erro ao criar.' });\r\n        } finally {\r\n            setSubmitting(false);\r\n        }\r\n    };\r\n\r\n    const startEdit = (c: Category) => {\r\n        setEditingId(c.id);\r\n        setEditName(c.name);\r\n        setEditSlug(c.slug);\r\n    };\r\n\r\n    const saveEdit = async () => {\r\n        if (!editingId) return;\r\n        const name = editName.trim();\r\n        const slug = editSlug.trim();\r\n        if (!name || !slug) return;\r\n        setSubmitting(true);\r\n        showToast({ variant: 'info', description: 'A guardar...' });\r\n        try {\r\n            const r = await withTimeout(\r\n                fetch(`/api/admin/categorias/${editingId}`, {\r\n                    method: 'PATCH',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({ name, slug }),\r\n                    cache: 'no-store',\r\n                }),\r\n                FETCH_TIMEOUT_MS,\r\n                'Atualizar categoria'\r\n            );\r\n            if (!r.ok) {\r\n                const err = await r.json().catch(() => ({}));\r\n                throw new Error(err.message ?? 'Erro ao atualizar');\r\n            }\r\n            const updated = await r.json();\r\n            setCategories((prev) =>\r\n                prev.map((c) => (c.id === editingId ? rowToCategory(updated) : c))\r\n            );\r\n            setEditingId(null);\r\n            showToast({ variant: 'success', description: 'Categoria atualizada.' });\r\n        } catch (e) {\r\n            showToast({ variant: 'error', description: e instanceof Error ? e.message : 'Erro ao atualizar.' });\r\n        } finally {\r\n            setSubmitting(false);\r\n        }\r\n    };\r\n\r\n    const handleConfirmDelete = async () => {\r\n        if (!categoryToDelete) return;\r\n        setSubmitting(true);\r\n        showToast({ variant: 'info', description: 'A eliminar...' });\r\n        try {\r\n            const r = await withTimeout(\r\n                fetch(`/api/admin/categorias/${categoryToDelete.id}`, { method: 'DELETE', cache: 'no-store' }),\r\n                FETCH_TIMEOUT_MS,\r\n                'Eliminar categoria'\r\n            );\r\n            if (!r.ok) {\r\n                const err = await r.json().catch(() => ({}));\r\n                throw new Error(err.message ?? 'Erro ao eliminar');\r\n            }\r\n            setCategories((prev) => prev.filter((c) => c.id !== categoryToDelete.id));\r\n            setCategoryToDelete(null);\r\n            showToast({ variant: 'success', description: 'Categoria eliminada.' });\r\n        } catch (e) {\r\n            showToast({ variant: 'error', description: e instanceof Error ? e.message : 'Erro ao eliminar.' });\r\n        } finally {\r\n            setSubmitting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <ConfirmDialog\r\n                open={!!categoryToDelete}\r\n                onOpenChange={(open) => !open && setCategoryToDelete(null)}\r\n                title=\"Eliminar categoria\"\r\n                description=\"Tem certeza que deseja eliminar esta categoria? Anúncios associados podem ficar sem categoria.\"\r\n                confirmLabel=\"Eliminar\"\r\n                cancelLabel=\"Cancelar\"\r\n                onConfirm={handleConfirmDelete}\r\n                destructive\r\n                loading={submitting}\r\n            />\r\n            <div>\r\n                <h1 className=\"text-2xl font-bold tracking-tight\">Categorias</h1>\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                    Gerir as categorias de produtos e serviços disponíveis no marketplace.\r\n                </p>\r\n            </div>\r\n\r\n            {USE_SUPABASE && (\r\n                <Card>\r\n                    <CardHeader>\r\n                        <CardTitle className=\"flex items-center gap-2 text-base\">\r\n                            <Plus className=\"h-4 w-4\" />\r\n                            Adicionar nova categoria\r\n                        </CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent className=\"flex flex-wrap items-end gap-4\">\r\n                        <div className=\"space-y-2 min-w-[200px]\">\r\n                            <Label htmlFor=\"cat-name\">Nome</Label>\r\n                            <Input\r\n                                id=\"cat-name\"\r\n                                value={newName}\r\n                                onChange={(e) => {\r\n                                    setNewName(e.target.value);\r\n                                    if (!newSlug || newSlug === slugFromName(newName)) setNewSlug(slugFromName(e.target.value));\r\n                                }}\r\n                                placeholder=\"Ex: Eletrónica\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"space-y-2 min-w-[200px]\">\r\n                            <Label htmlFor=\"cat-slug\">Slug (URL)</Label>\r\n                            <Input\r\n                                id=\"cat-slug\"\r\n                                value={newSlug}\r\n                                onChange={(e) => setNewSlug(e.target.value)}\r\n                                placeholder=\"Ex: eletronica\"\r\n                            />\r\n                        </div>\r\n                        <AppButton onClick={handleAdd} disabled={!newName.trim() || submitting} className=\"gap-2\">\r\n                            {submitting ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Plus className=\"h-4 w-4\" />}\r\n                            Adicionar\r\n                        </AppButton>\r\n                    </CardContent>\r\n                </Card>\r\n            )}\r\n\r\n            <Card>\r\n                <CardHeader>\r\n                    <CardTitle className=\"flex items-center gap-2 text-base\">\r\n                        <Layers className=\"h-4 w-4 text-primary\" />\r\n                        Categorias registadas ({withCount.length})\r\n                    </CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    {withCount.length === 0 ? (\r\n                        <p className=\"py-8 text-center text-muted-foreground\">Nenhuma categoria configurada.</p>\r\n                    ) : (\r\n                        <div className=\"grid gap-2\">\r\n                            {withCount.map((c) => (\r\n                                <div\r\n                                    key={c.id}\r\n                                    className=\"flex flex-wrap items-center justify-between gap-4 rounded-xl border p-4 transition-colors hover:bg-muted/30\"\r\n                                >\r\n                                    {editingId === c.id ? (\r\n                                        <>\r\n                                            <div className=\"flex flex-wrap items-center gap-4 flex-1\">\r\n                                                <div className=\"space-y-1\">\r\n                                                    <Label className=\"text-[10px] uppercase font-bold text-muted-foreground\">Nome</Label>\r\n                                                    <Input value={editName} onChange={(e) => setEditName(e.target.value)} className=\"h-9 w-48\" />\r\n                                                </div>\r\n                                                <div className=\"space-y-1\">\r\n                                                    <Label className=\"text-[10px] uppercase font-bold text-muted-foreground\">Slug</Label>\r\n                                                    <Input value={editSlug} onChange={(e) => setEditSlug(e.target.value)} className=\"h-9 w-40\" />\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"flex gap-2\">\r\n                                                <AppButton size=\"sm\" onClick={saveEdit} disabled={submitting}>\r\n                                                    {submitting ? <Loader2 className=\"h-3 w-3 animate-spin mr-1\" /> : null}\r\n                                                    Guardar\r\n                                                </AppButton>\r\n                                                <AppButton size=\"sm\" variant=\"outline\" onClick={() => setEditingId(null)}>\r\n                                                    Cancelar\r\n                                                </AppButton>\r\n                                            </div>\r\n                                        </>\r\n                                    ) : (\r\n                                        <>\r\n                                            <div className=\"flex-1\">\r\n                                                <h4 className=\"font-semibold\">{c.name}</h4>\r\n                                                <p className=\"text-xs text-muted-foreground\">slug: {c.slug} · {c.adCount} anúncios ativos</p>\r\n                                            </div>\r\n                                            {USE_SUPABASE && (\r\n                                                <div className=\"flex items-center gap-1\">\r\n                                                    <AppButton\r\n                                                        size=\"icon\"\r\n                                                        variant=\"ghost\"\r\n                                                        onClick={() => startEdit(c)}\r\n                                                        className=\"h-8 w-8 text-muted-foreground\"\r\n                                                    >\r\n                                                        <Pencil className=\"h-4 w-4\" />\r\n                                                    </AppButton>\r\n                                                    <AppButton\r\n                                                        size=\"icon\"\r\n                                                        variant=\"ghost\"\r\n                                                        className=\"h-8 w-8 text-destructive hover:bg-destructive/10\"\r\n                                                        onClick={() => setCategoryToDelete(c)}\r\n                                                    >\r\n                                                        <Trash2 className=\"h-4 w-4\" />\r\n                                                    </AppButton>\r\n                                                </div>\r\n                                            )}\r\n                                        </>\r\n                                    )}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </CardContent>\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;AAcqB;;AAZrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;;;AAZA;;;;;;;;;;;AAcA,MAAM,eAAe,6CAAyC;AAC9D,MAAM,mBAAmB;AAEzB,SAAS,aAAa,IAAY;IAC9B,OAAO,KACF,WAAW,GACX,SAAS,CAAC,OACV,OAAO,CAAC,mBAAmB,IAC3B,OAAO,CAAC,eAAe,KACvB,OAAO,CAAC,UAAU;AAC3B;AAEA,SAAS,cAAc,CAAmE;IACtF,OAAO;QAAE,IAAI,EAAE,EAAE;QAAE,MAAM,EAAE,IAAI;QAAE,MAAM,EAAE,IAAI;QAAE,MAAM,EAAE,IAAI,IAAI;IAAU;AAC7E;AAEe,SAAS;;IACpB,MAAM,EAAE,UAAU,EAAE,GAAG,EAAE,aAAa,EAAE,GAAG,IAAA,oNAAM;IACjD,MAAM,YAAY,IAAA,wNAAQ,IAAG,SAAS;IACtC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,0PAAQ,EAAC;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,0PAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,0PAAQ,EAAgB;IAC1D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,0PAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,0PAAQ,EAAC;IACzC,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,0PAAQ,EAAkB;IAC1E,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,0PAAQ,EAAC;IAC7C,MAAM,iBAAiB,IAAA,6PAAW;2DAAC;YAC/B,IAAI;gBACA,MAAM,IAAI,MAAM,IAAA,gNAAW,EAAC,MAAM,yBAAyB;oBAAE,OAAO;gBAAW,IAAI,kBAAkB;gBACrG,IAAI,CAAC,EAAE,EAAE,EAAE;oBACP,MAAM,MAAM,MAAM,EAAE,IAAI,GAAG,KAAK;2EAAC,IAAM,CAAC,CAAC,CAAC;;oBAC1C,UAAU;wBAAE,SAAS;wBAAS,aAAa,IAAI,OAAO,IAAI,EAAE,UAAU;oBAAC;oBACvE;gBACJ;gBACA,MAAM,OAAO,MAAM,EAAE,IAAI;gBACzB,cAAc,CAAC,MAAM,OAAO,CAAC,QAAQ,OAAO,EAAE,EAAE,GAAG,CAAC;YACxD,EAAE,OAAO,GAAG;gBACR,UAAU;oBAAE,SAAS;oBAAS,aAAa,aAAa,QAAQ,EAAE,OAAO,GAAG;gBAAoB;YACpG;QACJ;0DAAG;QAAC;QAAe;KAAU;IAE7B,IAAA,2PAAS;yCAAC;YACN,KAAK;QACT;wCAAG;QAAC;KAAe;IAEnB,MAAM,YAAY,WAAW,GAAG,CAAC,CAAC,IAAM,CAAC;YACrC,GAAG,CAAC;YACJ,SAAS,IAAI,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK,eAAe,EAAE,UAAU,KAAK,EAAE,EAAE,EAAE,MAAM;QACxF,CAAC;IAED,MAAM,YAAY;QACd,MAAM,OAAO,QAAQ,IAAI;QACzB,MAAM,OAAO,QAAQ,IAAI,MAAM,aAAa;QAC5C,IAAI,CAAC,QAAQ,CAAC,MAAM;QACpB,cAAc;QACd,UAAU;YAAE,SAAS;YAAQ,aAAa;QAAa;QACvD,IAAI;YACA,MAAM,IAAI,MAAM,IAAA,gNAAW,EACvB,MAAM,yBAAyB;gBAC3B,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAM;gBAAK;gBAClC,OAAO;YACX,IACA,kBACA;YAEJ,IAAI,CAAC,EAAE,EAAE,EAAE;gBACP,MAAM,MAAM,MAAM,EAAE,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBAC1C,MAAM,IAAI,MAAM,IAAI,OAAO,IAAI;YACnC;YACA,MAAM,UAAU,MAAM,EAAE,IAAI;YAC5B,cAAc,CAAC,OAAS;uBAAI;oBAAM,cAAc;iBAAS;YACzD,WAAW;YACX,WAAW;YACX,UAAU;gBAAE,SAAS;gBAAW,aAAa;YAAoB;QACrE,EAAE,OAAO,GAAG;YACR,UAAU;gBAAE,SAAS;gBAAS,aAAa,aAAa,QAAQ,EAAE,OAAO,GAAG;YAAiB;QACjG,SAAU;YACN,cAAc;QAClB;IACJ;IAEA,MAAM,YAAY,CAAC;QACf,aAAa,EAAE,EAAE;QACjB,YAAY,EAAE,IAAI;QAClB,YAAY,EAAE,IAAI;IACtB;IAEA,MAAM,WAAW;QACb,IAAI,CAAC,WAAW;QAChB,MAAM,OAAO,SAAS,IAAI;QAC1B,MAAM,OAAO,SAAS,IAAI;QAC1B,IAAI,CAAC,QAAQ,CAAC,MAAM;QACpB,cAAc;QACd,UAAU;YAAE,SAAS;YAAQ,aAAa;QAAe;QACzD,IAAI;YACA,MAAM,IAAI,MAAM,IAAA,gNAAW,EACvB,MAAM,CAAC,sBAAsB,EAAE,WAAW,EAAE;gBACxC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAM;gBAAK;gBAClC,OAAO;YACX,IACA,kBACA;YAEJ,IAAI,CAAC,EAAE,EAAE,EAAE;gBACP,MAAM,MAAM,MAAM,EAAE,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBAC1C,MAAM,IAAI,MAAM,IAAI,OAAO,IAAI;YACnC;YACA,MAAM,UAAU,MAAM,EAAE,IAAI;YAC5B,cAAc,CAAC,OACX,KAAK,GAAG,CAAC,CAAC,IAAO,EAAE,EAAE,KAAK,YAAY,cAAc,WAAW;YAEnE,aAAa;YACb,UAAU;gBAAE,SAAS;gBAAW,aAAa;YAAwB;QACzE,EAAE,OAAO,GAAG;YACR,UAAU;gBAAE,SAAS;gBAAS,aAAa,aAAa,QAAQ,EAAE,OAAO,GAAG;YAAqB;QACrG,SAAU;YACN,cAAc;QAClB;IACJ;IAEA,MAAM,sBAAsB;QACxB,IAAI,CAAC,kBAAkB;QACvB,cAAc;QACd,UAAU;YAAE,SAAS;YAAQ,aAAa;QAAgB;QAC1D,IAAI;YACA,MAAM,IAAI,MAAM,IAAA,gNAAW,EACvB,MAAM,CAAC,sBAAsB,EAAE,iBAAiB,EAAE,EAAE,EAAE;gBAAE,QAAQ;gBAAU,OAAO;YAAW,IAC5F,kBACA;YAEJ,IAAI,CAAC,EAAE,EAAE,EAAE;gBACP,MAAM,MAAM,MAAM,EAAE,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;gBAC1C,MAAM,IAAI,MAAM,IAAI,OAAO,IAAI;YACnC;YACA,cAAc,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,iBAAiB,EAAE;YACvE,oBAAoB;YACpB,UAAU;gBAAE,SAAS;gBAAW,aAAa;YAAuB;QACxE,EAAE,OAAO,GAAG;YACR,UAAU;gBAAE,SAAS;gBAAS,aAAa,aAAa,QAAQ,EAAE,OAAO,GAAG;YAAoB;QACpG,SAAU;YACN,cAAc;QAClB;IACJ;IAEA,qBACI,8QAAC;QAAI,WAAU;;0BACX,8QAAC,2OAAa;gBACV,MAAM,CAAC,CAAC;gBACR,cAAc,CAAC,OAAS,CAAC,QAAQ,oBAAoB;gBACrD,OAAM;gBACN,aAAY;gBACZ,cAAa;gBACb,aAAY;gBACZ,WAAW;gBACX,WAAW;gBACX,SAAS;;;;;;0BAEb,8QAAC;;kCACG,8QAAC;wBAAG,WAAU;kCAAoC;;;;;;kCAClD,8QAAC;wBAAE,WAAU;kCAAgC;;;;;;;;;;;;YAKhD,8BACG,8QAAC,qNAAI;;kCACD,8QAAC,2NAAU;kCACP,cAAA,8QAAC,0NAAS;4BAAC,WAAU;;8CACjB,8QAAC,8RAAI;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;kCAIpC,8QAAC,4NAAW;wBAAC,WAAU;;0CACnB,8QAAC;gCAAI,WAAU;;kDACX,8QAAC,uNAAK;wCAAC,SAAQ;kDAAW;;;;;;kDAC1B,8QAAC,uNAAK;wCACF,IAAG;wCACH,OAAO;wCACP,UAAU,CAAC;4CACP,WAAW,EAAE,MAAM,CAAC,KAAK;4CACzB,IAAI,CAAC,WAAW,YAAY,aAAa,UAAU,WAAW,aAAa,EAAE,MAAM,CAAC,KAAK;wCAC7F;wCACA,aAAY;;;;;;;;;;;;0CAGpB,8QAAC;gCAAI,WAAU;;kDACX,8QAAC,uNAAK;wCAAC,SAAQ;kDAAW;;;;;;kDAC1B,8QAAC,uNAAK;wCACF,IAAG;wCACH,OAAO;wCACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;wCAC1C,aAAY;;;;;;;;;;;;0CAGpB,8QAAC,mOAAS;gCAAC,SAAS;gCAAW,UAAU,CAAC,QAAQ,IAAI,MAAM;gCAAY,WAAU;;oCAC7E,2BAAa,8QAAC,gTAAO;wCAAC,WAAU;;;;;6DAA4B,8QAAC,8RAAI;wCAAC,WAAU;;;;;;oCAAa;;;;;;;;;;;;;;;;;;;0BAO1G,8QAAC,qNAAI;;kCACD,8QAAC,2NAAU;kCACP,cAAA,8QAAC,0NAAS;4BAAC,WAAU;;8CACjB,8QAAC,oSAAM;oCAAC,WAAU;;;;;;gCAAyB;gCACnB,UAAU,MAAM;gCAAC;;;;;;;;;;;;kCAGjD,8QAAC,4NAAW;kCACP,UAAU,MAAM,KAAK,kBAClB,8QAAC;4BAAE,WAAU;sCAAyC;;;;;iDAEtD,8QAAC;4BAAI,WAAU;sCACV,UAAU,GAAG,CAAC,CAAC,kBACZ,8QAAC;oCAEG,WAAU;8CAET,cAAc,EAAE,EAAE,iBACf;;0DACI,8QAAC;gDAAI,WAAU;;kEACX,8QAAC;wDAAI,WAAU;;0EACX,8QAAC,uNAAK;gEAAC,WAAU;0EAAwD;;;;;;0EACzE,8QAAC,uNAAK;gEAAC,OAAO;gEAAU,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gEAAG,WAAU;;;;;;;;;;;;kEAEpF,8QAAC;wDAAI,WAAU;;0EACX,8QAAC,uNAAK;gEAAC,WAAU;0EAAwD;;;;;;0EACzE,8QAAC,uNAAK;gEAAC,OAAO;gEAAU,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gEAAG,WAAU;;;;;;;;;;;;;;;;;;0DAGxF,8QAAC;gDAAI,WAAU;;kEACX,8QAAC,mOAAS;wDAAC,MAAK;wDAAK,SAAS;wDAAU,UAAU;;4DAC7C,2BAAa,8QAAC,gTAAO;gEAAC,WAAU;;;;;uEAAiC;4DAAK;;;;;;;kEAG3E,8QAAC,mOAAS;wDAAC,MAAK;wDAAK,SAAQ;wDAAU,SAAS,IAAM,aAAa;kEAAO;;;;;;;;;;;;;qEAMlF;;0DACI,8QAAC;gDAAI,WAAU;;kEACX,8QAAC;wDAAG,WAAU;kEAAiB,EAAE,IAAI;;;;;;kEACrC,8QAAC;wDAAE,WAAU;;4DAAgC;4DAAO,EAAE,IAAI;4DAAC;4DAAI,EAAE,OAAO;4DAAC;;;;;;;;;;;;;4CAE5E,8BACG,8QAAC;gDAAI,WAAU;;kEACX,8QAAC,mOAAS;wDACN,MAAK;wDACL,SAAQ;wDACR,SAAS,IAAM,UAAU;wDACzB,WAAU;kEAEV,cAAA,8QAAC,oSAAM;4DAAC,WAAU;;;;;;;;;;;kEAEtB,8QAAC,mOAAS;wDACN,MAAK;wDACL,SAAQ;wDACR,WAAU;wDACV,SAAS,IAAM,oBAAoB;kEAEnC,cAAA,8QAAC,wSAAM;4DAAC,WAAU;;;;;;;;;;;;;;;;;;;mCA/CjC,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6D7C;GAzQwB;;QACuB,oNAAM;QAC/B,wNAAQ;;;KAFN"}}]
}